/*!
 * Library: singulum
 * Description: State management sanity with minimal effort
 * Author: planttheidea
 * Version: 0.6.0
 * License: MIT
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("singulum", [], factory);
	else if(typeof exports === 'object')
		exports["singulum"] = factory();
	else
		root["singulum"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(1);


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Singulum = __webpack_require__(2);\n\nvar _Singulum2 = _interopRequireDefault(_Singulum);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = new _Singulum2.default();\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXguanM/MWZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2luZ3VsdW0gZnJvbSAnLi9TaW5ndWx1bSc7XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTaW5ndWx1bSgpO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pbmRleC5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(3);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OBJECT_ASSIGN = Object.assign;\nvar OBJECT_FREEZE = Object.freeze;\n\n/**\n * This is a basic counter in case a namespace is not provided when creating\n * a branch\n */\nvar namespaceIncrementer = 0;\n\nvar fireWatchers = function fireWatchers(object) {\n  object.$$watchers.forEach(function (watcher) {\n    watcher(object.store);\n  });\n};\n\n/**\n * Assigns new result to store, fires listener with new SingulumStore, and returns\n * Promise with new result\n *\n * @param {Object} object\n * @param {string} key\n * @param {*} result\n * @returns {Promise}\n */\nvar updateStoreValue = function updateStoreValue(object, result, key) {\n  /**\n   * Apply new result value to the store, scoped if the key is provided\n   */\n  if (key) {\n    object.$$store[key] = result;\n  } else {\n    object.$$store = result;\n  }\n\n  /**\n   * If there is a watcher, fire it\n   */\n  fireWatchers(object);\n\n  return result;\n};\n\n/**\n * Creates bound and wrapped function to store new value internally and invoke listener\n * If function is asyncronous, it waits for the promise to be resolved before firing\n *\n * @param {Object} thisArg\n * @param {Function} fn\n * @param {string} key\n * @return {Function}\n */\nvar createWrapperFunction = function createWrapperFunction(thisArg, fn, key) {\n  /**\n   * @note must be a standard function instead of an arrow function, to allow the this binding\n   */\n  return (0, _utils.bindFunction)(function () {\n    var _this = this;\n\n    var primaryArgument = key ? thisArg.$$store[key] : thisArg.$$store;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var result = fn.apply(undefined, [primaryArgument].concat(args));\n\n    /**\n     * If the result is a Promise, wait for resolution and then return the data\n     */\n    if ((0, _utils.isFunction)(result.then)) {\n      return result.then(function (resultValue) {\n        return updateStoreValue(_this, resultValue, key);\n      });\n    }\n\n    /**\n     * Otherwise, wrap the return data in a native Promise and return it\n     */\n    return Promise.resolve(updateStoreValue(this, result, key));\n  }, thisArg);\n};\n\n/**\n * Creates namespaced Singulum within the object, aka make a branch\n *\n * @param {Object} object\n * @param {string} namespace\n * @param {Object} actions\n * @param {Object} initialValues\n * @returns {Object}\n */\nvar createNewSingulumNamespace = function createNewSingulumNamespace(object, namespace) {\n  var actions = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n  var initialValues = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n  /**\n   * if no namespace is provided, use the simple counter to create a unique entry\n   */\n  if (!namespace) {\n    namespace = namespaceIncrementer;\n    namespaceIncrementer++;\n  }\n\n  (0, _utils.setReadonly)(object, namespace, new Singulum(actions, initialValues));\n\n  object.$$store[namespace] = object[namespace];\n\n  return object[namespace];\n};\n\n/**\n * Creates new item in the store, and creates related action with wrapper\n *\n * @param {Object} branch\n * @param {Object} actions\n * @param {Object} initialValues\n */\nvar createNewSingulumLeaves = function createNewSingulumLeaves(branch) {\n  var actions = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n  var initialValues = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n  (0, _utils.forEachObject)(initialValues, function (initialValue, storeKey) {\n    /**\n     * Create separate clones for initialValues and store, so that references between\n     * the two do not exist\n     */\n    branch.$$initialValues[storeKey] = (0, _utils.getClone)(initialValue, SingulumStore);\n    branch.$$store[storeKey] = (0, _utils.getClone)(initialValue, SingulumStore);\n  });\n\n  (0, _utils.forEachObject)(actions, function (action, actionKey) {\n    /**\n     * if action is a function, then it applies to the entire state\n     */\n    if ((0, _utils.isFunction)(action)) {\n      branch.$$actions[actionKey] = createWrapperFunction(branch, action);\n    } else if ((0, _utils.isObject)(action)) {\n      /**\n       * if action is a map of functions, it applies to a specific key on the store\n       */\n      (0, _utils.forEachObject)(action, function (actionFn, actionFnKey) {\n        branch.$$actions[actionFnKey] = createWrapperFunction(branch, actionFn, actionKey);\n      });\n    }\n  });\n};\n\n/**\n * Gets clone of value from branch store based on key\n *\n * @param {Object} branch\n * @param {string} key\n * @returns {*}\n */\nvar getLeaf = function getLeaf(branch, key) {\n  return (0, _utils.getClone)(branch.$$store[key], SingulumStore);\n};\n\n/**\n * Actions class provided with [branchName].actions\n */\n\nvar SingulumActions =\n/**\n * Create shallowly cloned and frozen object of internal actions, and freeze\n *\n * @param {Object} actions\n * @returns {Object}\n */\nfunction SingulumActions() {\n  var actions = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  _classCallCheck(this, SingulumActions);\n\n  OBJECT_ASSIGN(this, actions);\n  OBJECT_FREEZE(this);\n\n  return this;\n};\n\n/**\n * Store class provided with [branchName].store\n */\n\n\nvar SingulumStore =\n/**\n * Create shallowly cloned and frozen object of store, including stores\n * branched from it\n *\n * @param {Object} store\n * @returns {Object}\n */\nfunction SingulumStore() {\n  var _this2 = this;\n\n  var store = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  _classCallCheck(this, SingulumStore);\n\n  (0, _utils.forEachObject)(store, function (value, key) {\n    _this2[key] = (0, _utils.isInstanceOf)(value, Singulum) ? value.store : value;\n  });\n\n  OBJECT_FREEZE(this);\n\n  return this;\n};\n\n/**\n * Snapshot class provided with [branchName].snapshot();\n */\n\n\nvar SingulumSnapshot =\n/**\n * Create snapshot clone of store, optionally snapshotting deeply\n *\n * @param {SingulumStore} store\n * @param {Singulum} $$store\n * @param {boolean} snapshotBranches\n * @returns {Object}\n */\nfunction SingulumSnapshot() {\n  var store = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var _this3 = this;\n\n  var $$store = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n  var snapshotBranches = arguments[2];\n\n  _classCallCheck(this, SingulumSnapshot);\n\n  (0, _utils.forEachObject)(store, function (value, key) {\n    var $$value = $$store[key];\n\n    _this3[key] = (0, _utils.isInstanceOf)($$value, Singulum) && snapshotBranches ? new SingulumSnapshot($$value.store, $$value.$$store, snapshotBranches) : (0, _utils.getClone)($$value, SingulumStore);\n  });\n\n  return this;\n};\n\n/**\n * Main class\n */\n\n\nvar Singulum =\n/**\n * Create singulum infrastructure, and populate leaves provided\n *\n * @param {Object} actions\n * @param {Object} initialValues\n * @returns {Singulum}\n */\nfunction Singulum() {\n  var actions = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var initialValues = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n  _classCallCheck(this, Singulum);\n\n  (0, _utils.setHidden)(this, '$$actions', []);\n  (0, _utils.setHidden)(this, '$$initialValues', {});\n  (0, _utils.setHidden)(this, '$$watchers', []);\n  (0, _utils.setHidden)(this, '$$snapshots', {});\n  (0, _utils.setHidden)(this, '$$store', {});\n\n  createNewSingulumLeaves(this, actions, initialValues);\n\n  return this;\n};\n\n/**\n * prototype of Singulum class\n *\n * @type {Object}\n */\n\n\nSingulum.prototype = Object.create({\n  /**\n   * Get immutable version of actions\n   *\n   * @returns {SingulumActions}\n   */\n  get actions() {\n    return new SingulumActions(this.$$actions);\n  },\n\n  /**\n   * Get immutable version of store\n   *\n   * @returns {SingulumStore}\n   */\n  get store() {\n    return new SingulumStore(this.$$store);\n  },\n\n  /**\n   * Create namespaced Singulum child\n   *\n   * @param {Object} actions\n   * @param {Object} initialValues\n   * @param {string} namespace\n   * @returns {Singulum}\n   */\n  branch: function branch() {\n    var actions = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var initialValues = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var namespace = arguments[2];\n\n    /**\n     * if a namespace is provided but it isn't a string value, make it one\n     */\n    if (namespace && !(0, _utils.isString)(namespace)) {\n      namespace = namespace.toString();\n    }\n\n    return createNewSingulumNamespace(this, namespace, actions, initialValues);\n  },\n\n\n  /**\n   * Based on key or array of keys, returns values in store associated\n   * If leaves is an array, an array of values in the same order as keys passed\n   * is returned\n   *\n   * @param {string|Array} leaves\n   * @returns {*}\n   */\n  pluck: function pluck(leaves) {\n    var _this4 = this;\n\n    /**\n     * if nothing is passed, just return the store\n     */\n    if (!leaves) {\n      return this.store;\n    }\n\n    /**\n     * if its a single key, get the leaf\n     */\n    if ((0, _utils.isString)(leaves)) {\n      return getLeaf(this, leaves);\n    }\n\n    /**\n     * if its an array of keys, get all the leaves\n     */\n    if ((0, _utils.isArray)(leaves)) {\n      return leaves.map(function (leaf) {\n        return getLeaf(_this4, leaf);\n      });\n    }\n  },\n\n\n  /**\n   * Return singulum to its original state\n   *\n   * @param {boolean} resetBranches\n   * @returns {Singulum}\n   */\n  reset: function reset() {\n    var _this5 = this;\n\n    var resetBranches = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\n    var newStore = {};\n\n    (0, _utils.forEachObject)(this.$$store, function (value, key) {\n      if ((0, _utils.isInstanceOf)(value, Singulum) && resetBranches) {\n        /**\n         * if snapshot value is a Singulum and you want to reset child branches, then trigger\n         * .reset() on child branch\n         */\n        value.reset();\n      } else if (!(0, _utils.isInstanceOf)(value, SingulumSnapshot)) {\n        /**\n         * If the snapshot value is a non-Singulum value, re-apply it to the store\n         */\n        newStore[key] = _this5.$$initialValues[key];\n      }\n    });\n\n    this.$$store = newStore;\n\n    /**\n     * If there is a watcher, fire it\n     */\n    fireWatchers(this);\n\n    return this;\n  },\n\n\n  /**\n   * Restore values in store based on snapshot, optionally restored deeply\n   *\n   * @param {SingulumSnapshot} snapshot\n   * @param {boolean} restoreBranches\n   * @returns {Singulum}\n   */\n  restore: function restore(snapshot) {\n    var _this6 = this;\n\n    var restoreBranches = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n    /**\n     * Make sure snapshot passed is a SingulumSnapshot\n     */\n    if (!(0, _utils.isInstanceOf)(snapshot, SingulumSnapshot)) {\n      (0, _utils.throwError)('Snapshot used in restore method must be a SingulumSnapshot.');\n    }\n\n    (0, _utils.forEachObject)(snapshot, function (value, key) {\n      if ((0, _utils.isInstanceOf)(value, SingulumSnapshot) && restoreBranches) {\n        /**\n         * if the snapshot value is a SingulumSnapshot and you want to reset\n         * child branches, then trigger restore on the child branch passing value\n         * as branch's snapshot\n         */\n        _this6.$$store[key].restore(value, restoreBranches);\n      } else if (!(0, _utils.isInstanceOf)(value, SingulumStore)) {\n        /**\n         * If the snapshot value is not a Singulum, re-apply it to the store\n         */\n        _this6.$$store[key] = value;\n      }\n    });\n\n    /**\n     * If there is a watcher, fire it\n     */\n    fireWatchers(this);\n\n    return this;\n  },\n\n\n  /**\n   * Create snapshot of current store state, optionally snapshot deeply\n   *\n   * @param {boolean} snapshotBranches\n   * @returns {SingulumSnapshot}\n   */\n  snapshot: function snapshot() {\n    var snapshotBranches = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\n    return new SingulumSnapshot(this.store, this.$$store, snapshotBranches);\n  },\n\n\n  /**\n   * Clear out callback bound to $$watchers\n   *\n   * @returns {Singulum}\n   */\n  unwatch: function unwatch(callback) {\n    var watcherIndex = (0, _utils.findIndex)(this.$$watchers, function (watcher) {\n      return watcher === callback;\n    });\n\n    this.$$watchers = [].concat(_toConsumableArray(this.$$watchers.slice(0, watcherIndex)), _toConsumableArray(this.$$watchers.slice(watcherIndex + 1, this.$$watchers.length)));\n\n    return this;\n  },\n\n\n  /**\n   * Add callback to $$watchers, to be fired whenever store updates\n   *\n   * @param {Function} callback\n   * @returns {Singulum}\n   */\n  watch: function watch(callback) {\n    /**\n     * Make sure callback is actually a function before setting it\n     */\n    if ((0, _utils.isFunction)(callback)) {\n      this.$$watchers = [].concat(_toConsumableArray(this.$$watchers), [callback]);\n    }\n\n    return this;\n  }\n});\n\nexports.default = Singulum;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvU2luZ3VsdW0uanM/ZGRiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBiaW5kRnVuY3Rpb24sXG4gIGZpbmRJbmRleCxcbiAgZm9yRWFjaE9iamVjdCxcbiAgZ2V0Q2xvbmUsXG4gIGlzQXJyYXksXG4gIGlzRnVuY3Rpb24sXG4gIGlzSW5zdGFuY2VPZixcbiAgaXNPYmplY3QsXG4gIGlzU3RyaW5nLFxuICBzZXRIaWRkZW4sXG4gIHNldFJlYWRvbmx5LFxuICB0aHJvd0Vycm9yXG59IGZyb20gJy4vdXRpbHMnO1xuXG5jb25zdCBPQkpFQ1RfQVNTSUdOID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IE9CSkVDVF9GUkVFWkUgPSBPYmplY3QuZnJlZXplO1xuXG4vKipcbiAqIFRoaXMgaXMgYSBiYXNpYyBjb3VudGVyIGluIGNhc2UgYSBuYW1lc3BhY2UgaXMgbm90IHByb3ZpZGVkIHdoZW4gY3JlYXRpbmdcbiAqIGEgYnJhbmNoXG4gKi9cbmxldCBuYW1lc3BhY2VJbmNyZW1lbnRlciA9IDA7XG5cbmNvbnN0IGZpcmVXYXRjaGVycyA9IChvYmplY3QpID0+IHtcbiAgb2JqZWN0LiQkd2F0Y2hlcnMuZm9yRWFjaCgod2F0Y2hlcikgPT4ge1xuICAgIHdhdGNoZXIob2JqZWN0LnN0b3JlKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEFzc2lnbnMgbmV3IHJlc3VsdCB0byBzdG9yZSwgZmlyZXMgbGlzdGVuZXIgd2l0aCBuZXcgU2luZ3VsdW1TdG9yZSwgYW5kIHJldHVybnNcbiAqIFByb21pc2Ugd2l0aCBuZXcgcmVzdWx0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHsqfSByZXN1bHRcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG5jb25zdCB1cGRhdGVTdG9yZVZhbHVlID0gKG9iamVjdCwgcmVzdWx0LCBrZXkpID0+IHtcbiAgLyoqXG4gICAqIEFwcGx5IG5ldyByZXN1bHQgdmFsdWUgdG8gdGhlIHN0b3JlLCBzY29wZWQgaWYgdGhlIGtleSBpcyBwcm92aWRlZFxuICAgKi9cbiAgaWYgKGtleSkge1xuICAgIG9iamVjdC4kJHN0b3JlW2tleV0gPSByZXN1bHQ7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0LiQkc3RvcmUgPSByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhlcmUgaXMgYSB3YXRjaGVyLCBmaXJlIGl0XG4gICAqL1xuICBmaXJlV2F0Y2hlcnMob2JqZWN0KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGJvdW5kIGFuZCB3cmFwcGVkIGZ1bmN0aW9uIHRvIHN0b3JlIG5ldyB2YWx1ZSBpbnRlcm5hbGx5IGFuZCBpbnZva2UgbGlzdGVuZXJcbiAqIElmIGZ1bmN0aW9uIGlzIGFzeW5jcm9ub3VzLCBpdCB3YWl0cyBmb3IgdGhlIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQgYmVmb3JlIGZpcmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmNvbnN0IGNyZWF0ZVdyYXBwZXJGdW5jdGlvbiA9ICh0aGlzQXJnLCBmbiwga2V5KSA9PiB7XG4gIC8qKlxuICAgKiBAbm90ZSBtdXN0IGJlIGEgc3RhbmRhcmQgZnVuY3Rpb24gaW5zdGVhZCBvZiBhbiBhcnJvdyBmdW5jdGlvbiwgdG8gYWxsb3cgdGhlIHRoaXMgYmluZGluZ1xuICAgKi9cbiAgcmV0dXJuIGJpbmRGdW5jdGlvbihmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIGNvbnN0IHByaW1hcnlBcmd1bWVudCA9IGtleSA/IHRoaXNBcmcuJCRzdG9yZVtrZXldIDogdGhpc0FyZy4kJHN0b3JlO1xuICAgIGNvbnN0IHJlc3VsdCA9IGZuKHByaW1hcnlBcmd1bWVudCwgLi4uYXJncyk7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgcmVzdWx0IGlzIGEgUHJvbWlzZSwgd2FpdCBmb3IgcmVzb2x1dGlvbiBhbmQgdGhlbiByZXR1cm4gdGhlIGRhdGFcbiAgICAgKi9cbiAgICBpZiAoaXNGdW5jdGlvbihyZXN1bHQudGhlbikpIHtcbiAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0VmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN0b3JlVmFsdWUodGhpcywgcmVzdWx0VmFsdWUsIGtleSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdGhlcndpc2UsIHdyYXAgdGhlIHJldHVybiBkYXRhIGluIGEgbmF0aXZlIFByb21pc2UgYW5kIHJldHVybiBpdFxuICAgICAqL1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXBkYXRlU3RvcmVWYWx1ZSh0aGlzLCByZXN1bHQsIGtleSkpO1xuICB9LCB0aGlzQXJnKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBuYW1lc3BhY2VkIFNpbmd1bHVtIHdpdGhpbiB0aGUgb2JqZWN0LCBha2EgbWFrZSBhIGJyYW5jaFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lc3BhY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gaW5pdGlhbFZhbHVlc1xuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuY29uc3QgY3JlYXRlTmV3U2luZ3VsdW1OYW1lc3BhY2UgPSAob2JqZWN0LCBuYW1lc3BhY2UsIGFjdGlvbnMgPSB7fSwgaW5pdGlhbFZhbHVlcyA9IHt9KSA9PiB7XG4gIC8qKlxuICAgKiBpZiBubyBuYW1lc3BhY2UgaXMgcHJvdmlkZWQsIHVzZSB0aGUgc2ltcGxlIGNvdW50ZXIgdG8gY3JlYXRlIGEgdW5pcXVlIGVudHJ5XG4gICAqL1xuICBpZiAoIW5hbWVzcGFjZSkge1xuICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZUluY3JlbWVudGVyO1xuICAgIG5hbWVzcGFjZUluY3JlbWVudGVyKys7XG4gIH1cblxuICBzZXRSZWFkb25seShvYmplY3QsIG5hbWVzcGFjZSwgbmV3IFNpbmd1bHVtKGFjdGlvbnMsIGluaXRpYWxWYWx1ZXMpKTtcblxuICBvYmplY3QuJCRzdG9yZVtuYW1lc3BhY2VdID0gb2JqZWN0W25hbWVzcGFjZV07XG5cbiAgcmV0dXJuIG9iamVjdFtuYW1lc3BhY2VdO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpdGVtIGluIHRoZSBzdG9yZSwgYW5kIGNyZWF0ZXMgcmVsYXRlZCBhY3Rpb24gd2l0aCB3cmFwcGVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGJyYW5jaFxuICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbml0aWFsVmFsdWVzXG4gKi9cbmNvbnN0IGNyZWF0ZU5ld1Npbmd1bHVtTGVhdmVzID0gKGJyYW5jaCwgYWN0aW9ucyA9IHt9LCBpbml0aWFsVmFsdWVzID0ge30pID0+IHtcbiAgZm9yRWFjaE9iamVjdChpbml0aWFsVmFsdWVzLCAoaW5pdGlhbFZhbHVlLCBzdG9yZUtleSkgPT4ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBzZXBhcmF0ZSBjbG9uZXMgZm9yIGluaXRpYWxWYWx1ZXMgYW5kIHN0b3JlLCBzbyB0aGF0IHJlZmVyZW5jZXMgYmV0d2VlblxuICAgICAqIHRoZSB0d28gZG8gbm90IGV4aXN0XG4gICAgICovXG4gICAgYnJhbmNoLiQkaW5pdGlhbFZhbHVlc1tzdG9yZUtleV0gPSBnZXRDbG9uZShpbml0aWFsVmFsdWUsIFNpbmd1bHVtU3RvcmUpO1xuICAgIGJyYW5jaC4kJHN0b3JlW3N0b3JlS2V5XSA9IGdldENsb25lKGluaXRpYWxWYWx1ZSwgU2luZ3VsdW1TdG9yZSk7XG4gIH0pO1xuXG4gIGZvckVhY2hPYmplY3QoYWN0aW9ucywgKGFjdGlvbiwgYWN0aW9uS2V5KSA9PiB7XG4gICAgLyoqXG4gICAgICogaWYgYWN0aW9uIGlzIGEgZnVuY3Rpb24sIHRoZW4gaXQgYXBwbGllcyB0byB0aGUgZW50aXJlIHN0YXRlXG4gICAgICovXG4gICAgaWYgKGlzRnVuY3Rpb24oYWN0aW9uKSkge1xuICAgICAgYnJhbmNoLiQkYWN0aW9uc1thY3Rpb25LZXldID0gY3JlYXRlV3JhcHBlckZ1bmN0aW9uKGJyYW5jaCwgYWN0aW9uKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGFjdGlvbikpIHtcbiAgICAgIC8qKlxuICAgICAgICogaWYgYWN0aW9uIGlzIGEgbWFwIG9mIGZ1bmN0aW9ucywgaXQgYXBwbGllcyB0byBhIHNwZWNpZmljIGtleSBvbiB0aGUgc3RvcmVcbiAgICAgICAqL1xuICAgICAgZm9yRWFjaE9iamVjdChhY3Rpb24sIChhY3Rpb25GbiwgYWN0aW9uRm5LZXkpID0+IHtcbiAgICAgICAgYnJhbmNoLiQkYWN0aW9uc1thY3Rpb25GbktleV0gPSBjcmVhdGVXcmFwcGVyRnVuY3Rpb24oYnJhbmNoLCBhY3Rpb25GbiwgYWN0aW9uS2V5KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgY2xvbmUgb2YgdmFsdWUgZnJvbSBicmFuY2ggc3RvcmUgYmFzZWQgb24ga2V5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGJyYW5jaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHJldHVybnMgeyp9XG4gKi9cbmNvbnN0IGdldExlYWYgPSAoYnJhbmNoLCBrZXkpID0+IHtcbiAgcmV0dXJuIGdldENsb25lKGJyYW5jaC4kJHN0b3JlW2tleV0sIFNpbmd1bHVtU3RvcmUpO1xufTtcblxuLyoqXG4gKiBBY3Rpb25zIGNsYXNzIHByb3ZpZGVkIHdpdGggW2JyYW5jaE5hbWVdLmFjdGlvbnNcbiAqL1xuY2xhc3MgU2luZ3VsdW1BY3Rpb25zIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBzaGFsbG93bHkgY2xvbmVkIGFuZCBmcm96ZW4gb2JqZWN0IG9mIGludGVybmFsIGFjdGlvbnMsIGFuZCBmcmVlemVcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbnNcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFjdGlvbnMgPSB7fSkge1xuICAgIE9CSkVDVF9BU1NJR04odGhpcywgYWN0aW9ucyk7XG4gICAgT0JKRUNUX0ZSRUVaRSh0aGlzKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbi8qKlxuICogU3RvcmUgY2xhc3MgcHJvdmlkZWQgd2l0aCBbYnJhbmNoTmFtZV0uc3RvcmVcbiAqL1xuY2xhc3MgU2luZ3VsdW1TdG9yZSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgc2hhbGxvd2x5IGNsb25lZCBhbmQgZnJvemVuIG9iamVjdCBvZiBzdG9yZSwgaW5jbHVkaW5nIHN0b3Jlc1xuICAgKiBicmFuY2hlZCBmcm9tIGl0XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdG9yZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgY29uc3RydWN0b3Ioc3RvcmUgPSB7fSkge1xuICAgIGZvckVhY2hPYmplY3Qoc3RvcmUsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICB0aGlzW2tleV0gPSBpc0luc3RhbmNlT2YodmFsdWUsIFNpbmd1bHVtKSA/IHZhbHVlLnN0b3JlIDogdmFsdWU7XG4gICAgfSk7XG5cbiAgICBPQkpFQ1RfRlJFRVpFKHRoaXMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuLyoqXG4gKiBTbmFwc2hvdCBjbGFzcyBwcm92aWRlZCB3aXRoIFticmFuY2hOYW1lXS5zbmFwc2hvdCgpO1xuICovXG5jbGFzcyBTaW5ndWx1bVNuYXBzaG90IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBzbmFwc2hvdCBjbG9uZSBvZiBzdG9yZSwgb3B0aW9uYWxseSBzbmFwc2hvdHRpbmcgZGVlcGx5XG4gICAqXG4gICAqIEBwYXJhbSB7U2luZ3VsdW1TdG9yZX0gc3RvcmVcbiAgICogQHBhcmFtIHtTaW5ndWx1bX0gJCRzdG9yZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBzaG90QnJhbmNoZXNcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHN0b3JlID0ge30sICQkc3RvcmUgPSB7fSwgc25hcHNob3RCcmFuY2hlcykge1xuICAgIGZvckVhY2hPYmplY3Qoc3RvcmUsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBjb25zdCAkJHZhbHVlID0gJCRzdG9yZVtrZXldO1xuXG4gICAgICB0aGlzW2tleV0gPSBpc0luc3RhbmNlT2YoJCR2YWx1ZSwgU2luZ3VsdW0pICYmIHNuYXBzaG90QnJhbmNoZXMgP1xuICAgICAgICBuZXcgU2luZ3VsdW1TbmFwc2hvdCgkJHZhbHVlLnN0b3JlLCAkJHZhbHVlLiQkc3RvcmUsIHNuYXBzaG90QnJhbmNoZXMpIDpcbiAgICAgICAgZ2V0Q2xvbmUoJCR2YWx1ZSwgU2luZ3VsdW1TdG9yZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG4vKipcbiAqIE1haW4gY2xhc3NcbiAqL1xuY2xhc3MgU2luZ3VsdW0ge1xuICAvKipcbiAgICogQ3JlYXRlIHNpbmd1bHVtIGluZnJhc3RydWN0dXJlLCBhbmQgcG9wdWxhdGUgbGVhdmVzIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbml0aWFsVmFsdWVzXG4gICAqIEByZXR1cm5zIHtTaW5ndWx1bX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFjdGlvbnMgPSB7fSwgaW5pdGlhbFZhbHVlcyA9IHt9KSB7XG4gICAgc2V0SGlkZGVuKHRoaXMsICckJGFjdGlvbnMnLCBbXSk7XG4gICAgc2V0SGlkZGVuKHRoaXMsICckJGluaXRpYWxWYWx1ZXMnLCB7fSk7XG4gICAgc2V0SGlkZGVuKHRoaXMsICckJHdhdGNoZXJzJywgW10pO1xuICAgIHNldEhpZGRlbih0aGlzLCAnJCRzbmFwc2hvdHMnLCB7fSk7XG4gICAgc2V0SGlkZGVuKHRoaXMsICckJHN0b3JlJywge30pO1xuXG4gICAgY3JlYXRlTmV3U2luZ3VsdW1MZWF2ZXModGhpcywgYWN0aW9ucywgaW5pdGlhbFZhbHVlcyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG4vKipcbiAqIHByb3RvdHlwZSBvZiBTaW5ndWx1bSBjbGFzc1xuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cblNpbmd1bHVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoe1xuICAvKipcbiAgICogR2V0IGltbXV0YWJsZSB2ZXJzaW9uIG9mIGFjdGlvbnNcbiAgICpcbiAgICogQHJldHVybnMge1Npbmd1bHVtQWN0aW9uc31cbiAgICovXG4gIGdldCBhY3Rpb25zKCkge1xuICAgIHJldHVybiBuZXcgU2luZ3VsdW1BY3Rpb25zKHRoaXMuJCRhY3Rpb25zKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGltbXV0YWJsZSB2ZXJzaW9uIG9mIHN0b3JlXG4gICAqXG4gICAqIEByZXR1cm5zIHtTaW5ndWx1bVN0b3JlfVxuICAgKi9cbiAgZ2V0IHN0b3JlKCkge1xuICAgIHJldHVybiBuZXcgU2luZ3VsdW1TdG9yZSh0aGlzLiQkc3RvcmUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgbmFtZXNwYWNlZCBTaW5ndWx1bSBjaGlsZFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uc1xuICAgKiBAcGFyYW0ge09iamVjdH0gaW5pdGlhbFZhbHVlc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlXG4gICAqIEByZXR1cm5zIHtTaW5ndWx1bX1cbiAgICovXG4gIGJyYW5jaChhY3Rpb25zID0ge30sIGluaXRpYWxWYWx1ZXMgPSB7fSwgbmFtZXNwYWNlKSB7XG4gICAgLyoqXG4gICAgICogaWYgYSBuYW1lc3BhY2UgaXMgcHJvdmlkZWQgYnV0IGl0IGlzbid0IGEgc3RyaW5nIHZhbHVlLCBtYWtlIGl0IG9uZVxuICAgICAqL1xuICAgIGlmIChuYW1lc3BhY2UgJiYgIWlzU3RyaW5nKG5hbWVzcGFjZSkpIHtcbiAgICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVOZXdTaW5ndWx1bU5hbWVzcGFjZSh0aGlzLCBuYW1lc3BhY2UsIGFjdGlvbnMsIGluaXRpYWxWYWx1ZXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCYXNlZCBvbiBrZXkgb3IgYXJyYXkgb2Yga2V5cywgcmV0dXJucyB2YWx1ZXMgaW4gc3RvcmUgYXNzb2NpYXRlZFxuICAgKiBJZiBsZWF2ZXMgaXMgYW4gYXJyYXksIGFuIGFycmF5IG9mIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlciBhcyBrZXlzIHBhc3NlZFxuICAgKiBpcyByZXR1cm5lZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheX0gbGVhdmVzXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcGx1Y2sobGVhdmVzKSB7XG4gICAgLyoqXG4gICAgICogaWYgbm90aGluZyBpcyBwYXNzZWQsIGp1c3QgcmV0dXJuIHRoZSBzdG9yZVxuICAgICAqL1xuICAgIGlmICghbGVhdmVzKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpZiBpdHMgYSBzaW5nbGUga2V5LCBnZXQgdGhlIGxlYWZcbiAgICAgKi9cbiAgICBpZiAoaXNTdHJpbmcobGVhdmVzKSkge1xuICAgICAgcmV0dXJuIGdldExlYWYodGhpcywgbGVhdmVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpZiBpdHMgYW4gYXJyYXkgb2Yga2V5cywgZ2V0IGFsbCB0aGUgbGVhdmVzXG4gICAgICovXG4gICAgaWYgKGlzQXJyYXkobGVhdmVzKSkge1xuICAgICAgcmV0dXJuIGxlYXZlcy5tYXAoKGxlYWYpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldExlYWYodGhpcywgbGVhZik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiBzaW5ndWx1bSB0byBpdHMgb3JpZ2luYWwgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZXNldEJyYW5jaGVzXG4gICAqIEByZXR1cm5zIHtTaW5ndWx1bX1cbiAgICovXG4gIHJlc2V0KHJlc2V0QnJhbmNoZXMgPSBmYWxzZSkge1xuICAgIGxldCBuZXdTdG9yZSA9IHt9O1xuXG4gICAgZm9yRWFjaE9iamVjdCh0aGlzLiQkc3RvcmUsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBpZiAoaXNJbnN0YW5jZU9mKHZhbHVlLCBTaW5ndWx1bSkgJiYgcmVzZXRCcmFuY2hlcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogaWYgc25hcHNob3QgdmFsdWUgaXMgYSBTaW5ndWx1bSBhbmQgeW91IHdhbnQgdG8gcmVzZXQgY2hpbGQgYnJhbmNoZXMsIHRoZW4gdHJpZ2dlclxuICAgICAgICAgKiAucmVzZXQoKSBvbiBjaGlsZCBicmFuY2hcbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlLnJlc2V0KCk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0luc3RhbmNlT2YodmFsdWUsIFNpbmd1bHVtU25hcHNob3QpKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgc25hcHNob3QgdmFsdWUgaXMgYSBub24tU2luZ3VsdW0gdmFsdWUsIHJlLWFwcGx5IGl0IHRvIHRoZSBzdG9yZVxuICAgICAgICAgKi9cbiAgICAgICAgbmV3U3RvcmVba2V5XSA9IHRoaXMuJCRpbml0aWFsVmFsdWVzW2tleV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLiQkc3RvcmUgPSBuZXdTdG9yZTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZXJlIGlzIGEgd2F0Y2hlciwgZmlyZSBpdFxuICAgICAqL1xuICAgIGZpcmVXYXRjaGVycyh0aGlzKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXN0b3JlIHZhbHVlcyBpbiBzdG9yZSBiYXNlZCBvbiBzbmFwc2hvdCwgb3B0aW9uYWxseSByZXN0b3JlZCBkZWVwbHlcbiAgICpcbiAgICogQHBhcmFtIHtTaW5ndWx1bVNuYXBzaG90fSBzbmFwc2hvdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3RvcmVCcmFuY2hlc1xuICAgKiBAcmV0dXJucyB7U2luZ3VsdW19XG4gICAqL1xuICByZXN0b3JlKHNuYXBzaG90LCByZXN0b3JlQnJhbmNoZXMgPSBmYWxzZSkge1xuICAgIC8qKlxuICAgICAqIE1ha2Ugc3VyZSBzbmFwc2hvdCBwYXNzZWQgaXMgYSBTaW5ndWx1bVNuYXBzaG90XG4gICAgICovXG4gICAgaWYgKCFpc0luc3RhbmNlT2Yoc25hcHNob3QsIFNpbmd1bHVtU25hcHNob3QpKSB7XG4gICAgICB0aHJvd0Vycm9yKCdTbmFwc2hvdCB1c2VkIGluIHJlc3RvcmUgbWV0aG9kIG11c3QgYmUgYSBTaW5ndWx1bVNuYXBzaG90LicpO1xuICAgIH1cblxuICAgIGZvckVhY2hPYmplY3Qoc25hcHNob3QsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBpZiAoaXNJbnN0YW5jZU9mKHZhbHVlLCBTaW5ndWx1bVNuYXBzaG90KSAmJiByZXN0b3JlQnJhbmNoZXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGlmIHRoZSBzbmFwc2hvdCB2YWx1ZSBpcyBhIFNpbmd1bHVtU25hcHNob3QgYW5kIHlvdSB3YW50IHRvIHJlc2V0XG4gICAgICAgICAqIGNoaWxkIGJyYW5jaGVzLCB0aGVuIHRyaWdnZXIgcmVzdG9yZSBvbiB0aGUgY2hpbGQgYnJhbmNoIHBhc3NpbmcgdmFsdWVcbiAgICAgICAgICogYXMgYnJhbmNoJ3Mgc25hcHNob3RcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJCRzdG9yZVtrZXldLnJlc3RvcmUodmFsdWUsIHJlc3RvcmVCcmFuY2hlcyk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0luc3RhbmNlT2YodmFsdWUsIFNpbmd1bHVtU3RvcmUpKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgc25hcHNob3QgdmFsdWUgaXMgbm90IGEgU2luZ3VsdW0sIHJlLWFwcGx5IGl0IHRvIHRoZSBzdG9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kJHN0b3JlW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZXJlIGlzIGEgd2F0Y2hlciwgZmlyZSBpdFxuICAgICAqL1xuICAgIGZpcmVXYXRjaGVycyh0aGlzKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgc25hcHNob3Qgb2YgY3VycmVudCBzdG9yZSBzdGF0ZSwgb3B0aW9uYWxseSBzbmFwc2hvdCBkZWVwbHlcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzbmFwc2hvdEJyYW5jaGVzXG4gICAqIEByZXR1cm5zIHtTaW5ndWx1bVNuYXBzaG90fVxuICAgKi9cbiAgc25hcHNob3Qoc25hcHNob3RCcmFuY2hlcyA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIG5ldyBTaW5ndWx1bVNuYXBzaG90KHRoaXMuc3RvcmUsIHRoaXMuJCRzdG9yZSwgc25hcHNob3RCcmFuY2hlcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsZWFyIG91dCBjYWxsYmFjayBib3VuZCB0byAkJHdhdGNoZXJzXG4gICAqXG4gICAqIEByZXR1cm5zIHtTaW5ndWx1bX1cbiAgICovXG4gIHVud2F0Y2goY2FsbGJhY2spIHtcbiAgICBjb25zdCB3YXRjaGVySW5kZXggPSBmaW5kSW5kZXgodGhpcy4kJHdhdGNoZXJzLCAod2F0Y2hlcikgPT4ge1xuICAgICAgcmV0dXJuIHdhdGNoZXIgPT09IGNhbGxiYWNrO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kJHdhdGNoZXJzID0gW1xuICAgICAgLi4udGhpcy4kJHdhdGNoZXJzLnNsaWNlKDAsIHdhdGNoZXJJbmRleCksXG4gICAgICAuLi50aGlzLiQkd2F0Y2hlcnMuc2xpY2Uod2F0Y2hlckluZGV4ICsgMSwgdGhpcy4kJHdhdGNoZXJzLmxlbmd0aClcbiAgICBdO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFkZCBjYWxsYmFjayB0byAkJHdhdGNoZXJzLCB0byBiZSBmaXJlZCB3aGVuZXZlciBzdG9yZSB1cGRhdGVzXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtTaW5ndWx1bX1cbiAgICovXG4gIHdhdGNoKGNhbGxiYWNrKSB7XG4gICAgLyoqXG4gICAgICogTWFrZSBzdXJlIGNhbGxiYWNrIGlzIGFjdHVhbGx5IGEgZnVuY3Rpb24gYmVmb3JlIHNldHRpbmcgaXRcbiAgICAgKi9cbiAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIHRoaXMuJCR3YXRjaGVycyA9IFtcbiAgICAgICAgLi4udGhpcy4kJHdhdGNoZXJzLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNpbmd1bHVtO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9TaW5ndWx1bS5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBZUE7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBQ0E7Ozs7Ozs7Ozs7QUFjQTs7OztBQUlBO0FBQ0E7QUFEQTtBQUdBO0FBSEE7QUFDQTs7OztBQUxBO0FBQ0E7QUFjQTtBQWZBO0FBQ0E7Ozs7Ozs7Ozs7QUEwQkE7Ozs7QUFJQTs7O0FBQ0E7QUFDQTtBQUZBOztBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSEE7QUFRQTtBQUNBO0FBREE7QUFEQTtBQUNBOzs7O0FBUkE7QUFBQTtBQUpBO0FBQ0E7Ozs7Ozs7Ozs7QUFnQ0E7QUFBQTtBQUFBO0FBQ0E7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBQ0E7Ozs7Ozs7O0FBc0JBO0FBQUE7QUFBQTtBQUNBO0FBQUE7Ozs7O0FBS0E7QUFDQTtBQU5BO0FBQ0E7QUFRQTs7OztBQUlBO0FBQ0E7QUFEQTs7OztBQU1BO0FBQ0E7QUFEQTtBQUpBO0FBTkE7QUFWQTtBQUNBOzs7Ozs7OztBQWlDQTtBQUNBO0FBREE7QUFDQTs7Ozs7QUFNQTs7Ozs7OztBQU9BO0FBQUE7QUFDQTtBQVJBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7Ozs7OztBQVVBOzs7Ozs7OztBQVFBOzs7QUFBQTtBQUNBO0FBVEE7QUFDQTtBQVFBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBUEE7QUFDQTs7Ozs7O0FBYUE7Ozs7Ozs7OztBQVNBO0FBQUE7QUFDQTs7O0FBREE7QUFBQTtBQUNBO0FBVkE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQU9BO0FBVEE7QUFDQTs7Ozs7O0FBZUE7Ozs7Ozs7O0FBUUE7QUFBQTtBQUFBO0FBQ0E7QUFUQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFDQTs7Ozs7Ozs7QUFpQkE7Ozs7OztBQU1BO0FBQ0E7QUFEQTtBQUNBOzs7Ozs7QUFRQTtBQUNBO0FBREE7QUFDQTs7Ozs7Ozs7O0FBV0E7QUFBQTtBQUFBO0FBQUE7QUFDQTs7OztBQUdBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFuQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUE0Q0E7Ozs7OztBQUlBO0FBQ0E7QUFEQTtBQUNBOzs7O0FBTEE7QUFZQTtBQURBO0FBQ0E7Ozs7QUFaQTtBQW1CQTtBQUNBO0FBREE7QUFEQTtBQWhFQTtBQUNBO0FBQ0E7Ozs7Ozs7QUEyRUE7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUxBOzs7O0FBVUE7QUFKQTtBQVBBO0FBQ0E7QUFjQTtBQUNBOzs7O0FBbkJBO0FBQ0E7QUF3QkE7QUF0R0E7QUFDQTtBQUNBOzs7Ozs7OztBQThHQTs7O0FBQUE7QUFDQTs7OztBQUdBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTs7Ozs7O0FBTUE7QUFOQTs7OztBQVdBO0FBSkE7QUFSQTtBQUNBOzs7O0FBVEE7QUFDQTtBQTRCQTtBQTdJQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFvSkE7QUFBQTtBQUNBO0FBQUE7QUF2SkE7QUFDQTtBQUNBOzs7Ozs7QUE2SkE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFJQTtBQXpLQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFnTEE7Ozs7QUFJQTtBQUNBO0FBREE7QUFDQTtBQU1BO0FBN0xBO0FBQUE7QUFDQTtBQWdNQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 3 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar TO_STRING = Object.prototype.toString;\n\n/**\n * Binds function to thisArg\n *\n * @param {Function} fn\n * @param {Object} thisArg\n * @returns {Function}\n */\nvar bindFunction = exports.bindFunction = function bindFunction(fn, thisArg) {\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return fn.apply(thisArg, args);\n    };\n};\n\nvar findIndex = exports.findIndex = function findIndex(array, callback) {\n    for (var index = 0, length = array.length; index < length; index++) {\n        if (callback(array[index], index, array)) {\n            return index;\n        }\n    }\n};\n\n/**\n * Provided as faster alternative for native .forEach\n *\n * @param {Array} array\n * @param {Function} fn\n */\nvar forEachObject = exports.forEachObject = function forEachObject(object, fn) {\n    var keysArray = Object.keys(object);\n\n    for (var index = 0, length = keysArray.length; index < length; index++) {\n        var key = keysArray[index];\n\n        fn(object[key], key, object);\n    }\n};\n\n/**\n * Determines if object is of type Array\n *\n * @param {*} object\n * @returns {boolean}\n */\nvar isArray = exports.isArray = function isArray(object) {\n    return TO_STRING.call(object) === '[object Array]';\n};\n\n/**\n * Determines if object is of type Date\n * Not exported because not used elsewhere\n *\n * @param {*} object\n * @returns {boolean}\n */\nvar isDate = function isDate(object) {\n    return TO_STRING.call(object) === '[object Date]';\n};\n\n/**\n * Determines if object is of type Function\n *\n * @param {*} object\n * @returns {boolean}\n */\nvar isFunction = exports.isFunction = function isFunction(object) {\n    return TO_STRING.call(object) === '[object Function]' || typeof object === 'function';\n};\n\n/**\n * Determine if object is instance of Constructor\n *\n * @param {*} object\n * @param {Function} Constructor\n * @returns {boolean}\n */\nvar isInstanceOf = exports.isInstanceOf = function isInstanceOf(object, Constructor) {\n    return object instanceof Constructor;\n};\n\n/**\n * Determines if object is of type Object\n *\n * @param {*} object\n * @returns {boolean}\n */\nvar isObject = exports.isObject = function isObject(object) {\n    return TO_STRING.call(object) === '[object Object]' && !!object;\n};\n\n/**\n * Determines if object is of type String\n *\n * @param {*} object\n * @returns {boolean}\n */\nvar isString = exports.isString = function isString(object) {\n    return TO_STRING.call(object) === '[object String]';\n};\n\n/**\n * Returns clone of Singulum object with metadata stripped and child\n * stores with SingulumStore class applied\n *\n * @param {*} object\n * @param {SingulumStore} SingulumStore\n * @returns {*}\n */\nvar getClone = exports.getClone = function getClone(object, SingulumStore) {\n    if (isArray(object)) {\n        return object.map(function (item) {\n            return getClone(item, SingulumStore);\n        });\n    }\n\n    if (isObject(object)) {\n        var _ret = function () {\n            var cloneObject = {};\n\n            forEachObject(object, function (value, key) {\n                cloneObject[key] = getClone(value, SingulumStore);\n            });\n\n            if (isInstanceOf(object, SingulumStore)) {\n                cloneObject = new SingulumStore(cloneObject);\n            }\n\n            return {\n                v: cloneObject\n            };\n        }();\n\n        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    }\n\n    if (isDate(object)) {\n        return new Date(object.valueOf());\n    }\n\n    return object;\n};\n\n/**\n * Set property to be non-enumerable\n *\n * @param {Object} object\n * @param {string} property\n * @param {*} value\n */\nvar setHidden = exports.setHidden = function setHidden(object, property, value) {\n    Object.defineProperty(object, property, {\n        configurable: true,\n        enumerable: false,\n        value: value,\n        writable: true\n    });\n};\n\n/**\n * Set property on object as getter only, making it immutable\n *\n * @param {Object} object\n * @param {string} property\n * @param {*} value\n */\nvar setReadonly = exports.setReadonly = function setReadonly(object, property, value) {\n    Object.defineProperty(object, property, {\n        get: function get() {\n            return value;\n        },\n        set: function set() {\n            throwError('Cannot set a value for ' + property + ', as it is immutable.');\n        }\n    });\n};\n\n/**\n * Consolidated error throwing function, mainly for minification benefits\n *\n * @param {string} error\n */\nvar throwError = exports.throwError = function throwError(error) {\n    throw new Error(error);\n};\n\nexports.default = {\n    bindFunction: bindFunction,\n    findIndex: findIndex,\n    forEachObject: forEachObject,\n    getClone: getClone,\n    isArray: isArray,\n    isFunction: isFunction,\n    isInstanceOf: isInstanceOf,\n    isObject: isObject,\n    isString: isString,\n    setHidden: setHidden,\n    setReadonly: setReadonly,\n    throwError: throwError\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdXRpbHMuanM/MmI0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUT19TVFJJTkcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIEJpbmRzIGZ1bmN0aW9uIHRvIHRoaXNBcmdcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmdcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGJpbmRGdW5jdGlvbiA9IChmbiwgdGhpc0FyZykgPT4ge1xuICAgIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGZpbmRJbmRleCA9IChhcnJheSwgY2FsbGJhY2spID0+IHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBQcm92aWRlZCBhcyBmYXN0ZXIgYWx0ZXJuYXRpdmUgZm9yIG5hdGl2ZSAuZm9yRWFjaFxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5leHBvcnQgY29uc3QgZm9yRWFjaE9iamVjdCA9IChvYmplY3QsIGZuKSA9PiB7XG4gICAgY29uc3Qga2V5c0FycmF5ID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgIGZvciAobGV0IGluZGV4ID0gMCwgbGVuZ3RoID0ga2V5c0FycmF5Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5c0FycmF5W2luZGV4XTtcblxuICAgICAgICBmbihvYmplY3Rba2V5XSwga2V5LCBvYmplY3QpO1xuICAgIH1cbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBvYmplY3QgaXMgb2YgdHlwZSBBcnJheVxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQXJyYXkgPSAob2JqZWN0KSA9PiB7XG4gICAgcmV0dXJuIFRPX1NUUklORy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgb2JqZWN0IGlzIG9mIHR5cGUgRGF0ZVxuICogTm90IGV4cG9ydGVkIGJlY2F1c2Ugbm90IHVzZWQgZWxzZXdoZXJlXG4gKlxuICogQHBhcmFtIHsqfSBvYmplY3RcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBpc0RhdGUgPSAob2JqZWN0KSA9PiB7XG4gICAgcmV0dXJuIFRPX1NUUklORy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBvYmplY3QgaXMgb2YgdHlwZSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRnVuY3Rpb24gPSAob2JqZWN0KSA9PiB7XG4gICAgcmV0dXJuIFRPX1NUUklORy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHwgdHlwZW9mIG9iamVjdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIG9iamVjdCBpcyBpbnN0YW5jZSBvZiBDb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb25zdHJ1Y3RvclxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBpc0luc3RhbmNlT2YgPSAob2JqZWN0LCBDb25zdHJ1Y3RvcikgPT4ge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcjtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBvYmplY3QgaXMgb2YgdHlwZSBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IG9iamVjdFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBpc09iamVjdCA9IChvYmplY3QpID0+IHtcbiAgICByZXR1cm4gVE9fU1RSSU5HLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgJiYgISFvYmplY3Q7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgb2JqZWN0IGlzIG9mIHR5cGUgU3RyaW5nXG4gKlxuICogQHBhcmFtIHsqfSBvYmplY3RcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgaXNTdHJpbmcgPSAob2JqZWN0KSA9PiB7XG4gICAgcmV0dXJuIFRPX1NUUklORy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGNsb25lIG9mIFNpbmd1bHVtIG9iamVjdCB3aXRoIG1ldGFkYXRhIHN0cmlwcGVkIGFuZCBjaGlsZFxuICogc3RvcmVzIHdpdGggU2luZ3VsdW1TdG9yZSBjbGFzcyBhcHBsaWVkXG4gKlxuICogQHBhcmFtIHsqfSBvYmplY3RcbiAqIEBwYXJhbSB7U2luZ3VsdW1TdG9yZX0gU2luZ3VsdW1TdG9yZVxuICogQHJldHVybnMgeyp9XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDbG9uZSA9IChvYmplY3QsIFNpbmd1bHVtU3RvcmUpID0+IHtcbiAgICBpZiAoaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q2xvbmUoaXRlbSwgU2luZ3VsdW1TdG9yZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGxldCBjbG9uZU9iamVjdCA9IHt9O1xuXG4gICAgICAgIGZvckVhY2hPYmplY3Qob2JqZWN0LCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgY2xvbmVPYmplY3Rba2V5XSA9IGdldENsb25lKHZhbHVlLCBTaW5ndWx1bVN0b3JlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGlzSW5zdGFuY2VPZihvYmplY3QsIFNpbmd1bHVtU3RvcmUpKSB7XG4gICAgICAgICAgICBjbG9uZU9iamVjdCA9IG5ldyBTaW5ndWx1bVN0b3JlKGNsb25lT2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjbG9uZU9iamVjdDtcbiAgICB9XG5cbiAgICBpZiAoaXNEYXRlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG9iamVjdC52YWx1ZU9mKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG4vKipcbiAqIFNldCBwcm9wZXJ0eSB0byBiZSBub24tZW51bWVyYWJsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3Qgc2V0SGlkZGVuID0gKG9iamVjdCwgcHJvcGVydHksIHZhbHVlKSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFNldCBwcm9wZXJ0eSBvbiBvYmplY3QgYXMgZ2V0dGVyIG9ubHksIG1ha2luZyBpdCBpbW11dGFibGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IHNldFJlYWRvbmx5ID0gKG9iamVjdCwgcHJvcGVydHksIHZhbHVlKSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQoKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKGBDYW5ub3Qgc2V0IGEgdmFsdWUgZm9yICR7cHJvcGVydHl9LCBhcyBpdCBpcyBpbW11dGFibGUuYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogQ29uc29saWRhdGVkIGVycm9yIHRocm93aW5nIGZ1bmN0aW9uLCBtYWlubHkgZm9yIG1pbmlmaWNhdGlvbiBiZW5lZml0c1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvclxuICovXG5leHBvcnQgY29uc3QgdGhyb3dFcnJvciA9IChlcnJvcikgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgYmluZEZ1bmN0aW9uLFxuICAgIGZpbmRJbmRleCxcbiAgICBmb3JFYWNoT2JqZWN0LFxuICAgIGdldENsb25lLFxuICAgIGlzQXJyYXksXG4gICAgaXNGdW5jdGlvbixcbiAgICBpc0luc3RhbmNlT2YsXG4gICAgaXNPYmplY3QsXG4gICAgaXNTdHJpbmcsXG4gICAgc2V0SGlkZGVuLFxuICAgIHNldFJlYWRvbmx5LFxuICAgIHRocm93RXJyb3Jcbn07XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL3V0aWxzLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUFBOztBQUFBO0FBQ0E7QUFBQTtBQURBO0FBREE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQURBO0FBQ0E7Ozs7Ozs7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBSEE7QUFDQTs7Ozs7OztBQWVBO0FBQ0E7QUFEQTtBQUNBOzs7Ozs7OztBQVVBO0FBQ0E7QUFEQTtBQUNBOzs7Ozs7O0FBU0E7QUFDQTtBQURBO0FBQ0E7Ozs7Ozs7O0FBVUE7QUFDQTtBQURBO0FBQ0E7Ozs7Ozs7QUFTQTtBQUNBO0FBREE7QUFDQTs7Ozs7OztBQVNBO0FBQ0E7QUFEQTtBQUNBOzs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFDQTtBQUtBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBWEE7QUFDQTs7QUFEQTtBQUNBO0FBYUE7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQXpCQTtBQUNBOzs7Ozs7OztBQWtDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBO0FBQ0E7Ozs7Ozs7O0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFMQTtBQUFBO0FBREE7QUFDQTs7Ozs7O0FBZUE7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }
/******/ ])
});
;